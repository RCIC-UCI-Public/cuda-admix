!include cuda-toolkit.yaml 
!include cuda11-common.yaml
---
- package: CUDA toolkit

  findArgs: -not -path ./samples\* -not -path ./nsight\* -not -name \*nsight\* -not -name \*.a 
  src_tarball: "{{cuda.src_tarball}}"
  
  build:
    configure: echo no configure required 
    pkgmake: >
      if [ -d {{extractDir}} ]; then /bin/rm -rf {{extractDir}}; fi;
      if [ -d {{extractDir2}} ]; then /bin/rm -rf {{extractDir}}; fi;
      if [ -d {{tmpdir}} ]; then /bin/rm -rf {{tmpdir}}; fi;
      mkdir {{tmpdir}}; mkdir {{extractDir}}; mkdir {{extractDir2}}
      export TMPDIR={{tmpdir}};
      sh {{src_tarball}} --silent --toolkit --samples --installpath={{extractDir}};
      sh {{src_tarball}} --extract={{extractDir2}}
